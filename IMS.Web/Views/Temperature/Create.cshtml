@using IMS.Application.DTOs
@model TemperatureLogDto
@{
    ViewData["Title"] = "Log Temperature";
}

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0">Log Temperature</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
                    <li class="breadcrumb-item"><a asp-controller="Temperature" asp-action="Index">Temperature</a></li>
                    <li class="breadcrumb-item active">Log</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div class="card card-primary">
                    <div class="card-header">
                        <h3 class="card-title">Temperature Details</h3>
                    </div>
                    <form asp-action="Create" method="post">
                        <div class="card-body">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                            <div class="form-group">
                                <label asp-for="StoreId">Store</label>
                                <select asp-for="StoreId" class="form-control select2" required>
                                    <option value="">Select Store</option>
                                    @foreach (var store in ViewBag.Stores)
                                    {
                                        <option value="@store.Id">@store.Name</option>
                                    }
                                </select>
                                <span asp-validation-for="StoreId" class="text-danger"></span>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Temperature">Temperature</label>
                                        <div class="input-group">
                                            <input asp-for="Temperature" class="form-control"
                                                   type="number" step="0.1" required />
                                            <div class="input-group-append">
                                                <span class="input-group-text">°@Model.Unit</span>
                                            </div>
                                        </div>
                                        <span asp-validation-for="Temperature" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Humidity">Humidity (%)</label>
                                        <input asp-for="Humidity" class="form-control"
                                               type="number" step="0.1" min="0" max="100" required />
                                        <span asp-validation-for="Humidity" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label asp-for="Equipment">Equipment/Sensor</label>
                                <input asp-for="Equipment" class="form-control"
                                       placeholder="e.g., Sensor-01, Manual Reading" required />
                                <span asp-validation-for="Equipment" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="Unit">Temperature Unit</label>
                                <select asp-for="Unit" class="form-control">
                                    <option value="Celsius">Celsius</option>
                                    <option value="Fahrenheit">Fahrenheit</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Log Temperature
                            </button>
                            <a asp-action="Index" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-md-6">
                <!-- Temperature Guidelines -->
                <div class="card card-info">
                    <div class="card-header">
                        <h3 class="card-title">Temperature Guidelines</h3>
                    </div>
                    <div class="card-body">
                        <h5>Storage Temperature Ranges:</h5>
                        <ul>
                            <li><strong>Dry Storage:</strong> 10°C - 21°C (50°F - 70°F)</li>
                            <li><strong>Refrigerated:</strong> 0°C - 4°C (32°F - 40°F)</li>
                            <li><strong>Frozen:</strong> -18°C or below (0°F or below)</li>
                        </ul>

                        <h5 class="mt-3">When to Log:</h5>
                        <ul>
                            <li>At least twice daily (morning and evening)</li>
                            <li>When receiving temperature-sensitive items</li>
                            <li>After power outages or equipment issues</li>
                            <li>When ambient temperature changes significantly</li>
                        </ul>

                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle"></i>
                            Alert will be triggered if temperature is outside acceptable range.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('.select2').select2();
        });
    </script>
}