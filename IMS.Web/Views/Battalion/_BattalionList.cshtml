@model IEnumerable<IMS.Application.DTOs.BattalionDto>
@using IMS.Domain.Enums

<table id="battalionTable" class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Type</th>
            <th>Range</th>
            <th>Commander</th>
            <th>Personnel</th>
            <th>Stores</th>
            <th>Status</th>
            <th width="150">Actions</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null && Model.Any())
        {
            @foreach (var battalion in Model)
            {
                <tr>
                    <td>@(battalion.Code ?? "-")</td>
                    <td>@(battalion.Name ?? "-")</td>
                    <td>
                        <span class="badge badge-@(battalion.Type == BattalionType.Male ? "primary" : "pink")">
                            <i class="fas fa-@(battalion.Type == BattalionType.Male ? "male" : "female")"></i>
                            @battalion.Type
                        </span>
                    </td>
                    <td>
                        @if (battalion.RangeId.HasValue && !string.IsNullOrEmpty(battalion.RangeName))
                        {
                            <a asp-controller="Range" asp-action="Details" asp-route-id="@battalion.RangeId">
                                @battalion.RangeName
                            </a>
                        }
                        else
                        {
                            <span>-</span>
                        }
                    </td>
                    <td>@(battalion.CommanderName ?? "-")</td>
                    <td>
                        <span class="badge badge-info">@battalion.PersonnelCount</span>
                    </td>
                    <td>
                        <span class="badge badge-success">@battalion.StoreCount</span>
                    </td>
                    <td>
                        @if (battalion.IsActive)
                        {
                            <span class="badge badge-success">Active</span>
                        }
                        else
                        {
                            <span class="badge badge-danger">Inactive</span>
                        }
                    </td>
                    <td>
                        <a asp-action="Details" asp-route-id="@battalion.Id"
                           class="btn btn-info btn-xs" title="View Details">
                            <i class="fas fa-eye"></i>
                        </a>
                        <a asp-action="Edit" asp-route-id="@battalion.Id"
                           class="btn btn-warning btn-xs" title="Edit">
                            <i class="fas fa-edit"></i>
                        </a>
                        <button type="button" class="btn btn-danger btn-xs delete-btn"
                                data-id="@battalion.Id" data-name="@battalion.Name" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="9" class="text-center">No battalions found.</td>
            </tr>
        }
    </tbody>
</table>